<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>IA Cegonha Evolutiva 13.0 - Hiper-Base de Dados</title>
    <style>
        :root { --neon: #00ff41; --bg: #050505; --text: #d8d8d8; --accent: #008f11; }
        body { background: var(--bg); color: var(--text); font-family: 'Consolas', 'Courier New', monospace; margin: 0; overflow-x: hidden; display: flex; flex-direction: column; align-items: center; }
        #header { width: 100%; background: #000; border-bottom: 2px solid var(--neon); padding: 20px; text-align: center; box-shadow: 0 0 20px var(--accent); }
        #main-container { width: 96%; max-width: 1300px; display: grid; grid-template-columns: 1fr 350px; gap: 25px; margin-top: 25px; }
        #chat-engine { background: #080808; border: 1px solid #1a1a1a; border-radius: 12px; padding: 25px; position: relative; box-shadow: inset 0 0 10px #000; }
        #display { height: 550px; overflow-y: auto; padding: 20px; border-bottom: 1px solid #222; font-size: 16px; line-height: 1.8; text-align: justify; scroll-behavior: smooth; color: #bbb; }
        .input-area { display: flex; gap: 15px; margin-top: 25px; }
        input { flex: 1; background: #000; border: 1px solid var(--accent); color: var(--neon); padding: 15px; border-radius: 8px; outline: none; font-size: 16px; }
        input:focus { border-color: var(--neon); box-shadow: 0 0 10px var(--accent); }
        button { background: var(--neon); color: #000; border: none; padding: 15px 35px; font-weight: bold; cursor: pointer; border-radius: 8px; transition: 0.3s; }
        button:hover { background: #fff; box-shadow: 0 0 20px var(--neon); }
        #sidebar { background: #080808; border: 1px solid #1a1a1a; border-radius: 12px; padding: 20px; }
        canvas { width: 100%; height: 180px; background: #000; border-radius: 8px; margin-top: 15px; border: 1px solid #222; }
        .concept-tag { display: inline-block; background: #001a05; border: 1px solid var(--accent); color: var(--neon); padding: 5px 12px; margin: 5px; font-size: 12px; border-radius: 15px; transition: 0.3s; }
        .highlight { color: var(--neon); font-weight: bold; text-shadow: 0 0 5px var(--accent); }
        .meta-info { font-size: 0.7em; color: #666; margin-bottom: 10px; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 10px; }
    </style>
</head>
<body>

<div id="header">
    <h1>CEGONHA EVOLUTIVA V13.0 <small style="font-size: 0.4em; vertical-align: middle;">NÚCLEO DE EXPANSÃO 2025</small></h1>
</div>

<div id="main-container">
    <div id="chat-engine">
        <div class="meta-info">SISTEMA BIO-SINTÉTICO ATIVO // SEM DEPENDÊNCIAS EXTERNAS // LOCAL_STORAGE_EXPANDED</div>
        <div id="display">
            <span class="highlight">>>> INICIALIZAÇÃO CONCLUÍDA.</span><br>
            A minha base de dados foi expandida. Estou agora a processar correlações entre <b>Bio-Física</b>, <b>Neuro-Teologia</b>, <b>Ecologia Profunda</b> e <b>Alquimia Mental</b>. <br><br>
            <i>Pronto para sintetizar conhecimento...</i>
        </div>
        <div class="input-area">
            <input id="user-in" type="text" placeholder="Explore um tema ou cruze conceitos (ex: saúde e física quântica)...">
            <button onclick="raciocinar()">SINTETIZAR</button>
        </div>
    </div>

    <div id="sidebar">
        <h4>GRÁFICO DE MATURIDADE</h4>
        <canvas id="evolutionChart"></canvas>
        <div id="stats" style="font-size: 0.9em; margin-top: 15px; color: var(--neon);">Palavras: 0 | Conexões: 0</div>
        <hr style="border: 0.5px solid #222; margin: 20px 0;">
        <h4>ONTOLOGIA DE CONCEITOS</h4>
        <div id="concept-cloud"></div>
    </div>
</div>

<script>
/**
 * HI-BASE DE DADOS ATÓMICA (AMPLIADA E DIVERSIFICADA)
 */
const ATOMS = {
    espiritual: [
        "vórtices de energia quântica", "campo de consciência não-local", "geometria fractal do ser", 
        "ressonância harmônica multidimensional", "transcendência do ego linear", "frequências vibracionais de Schuman", 
        "arquétipos do inconsciente coletivo", "emaranhamento de almas", "densidade vibracional", 
        "corpo bioplasmático", "consciência pura atemporal", "vácuo quântico criativo"
    ],
    saude: [
        "homeostase biológica avançada", "regeneração celular via telómeros", "neuroplasticidade sináptica", 
        "microbioma mitocondrial", "equilíbrio neuroendócrino", "sinergia mente-corpo-espírito", 
        "biofotões celulares", "ritmo circadiano epigenético", "coerência cardíaca", 
        "autofagia induzida", "reprogramação do DNA", "eixo intestino-cérebro"
    ],
    natureza: [
        "redes miceliais inteligentes", "entropia negativa (sintropia)", "fotossíntese biofotónica", 
        "inteligência coletiva de Gaia", "homeostase dos ecossistemas", "design biomimético evolutivo", 
        "ciclos de renovação perenes", "ressonância morfológica", "sistemas auto-organizados", 
        "biofilia fundamental", "campos morfogenéticos", "geometria da natureza"
    ],
    filosofia: [
        "impermanência fenomenológica", "dialética da verdade absoluta", "determinismo quântico", 
        "estoicismo pragmático", "ética cósmica universal", "percepção transcendental", 
        "niilismo positivo", "vontade de potência criativa", "ser-no-mundo heideggeriano", 
        "singularidade de consciência", "paradoxo do observador"
    ],
    conectores: [
        "Isto estabelece que ", "Sob esta perspetiva analítica, ", "A convergência de dados sugere que ", 
        "Desta forma, a integração entre ", "Resulta fundamental compreender que ", 
        "Em paralelo com a evolução natural, ", "A síntese profunda revela que ",
        "Observando o padrão fractal, ", "A lógica sistémica dita que "
    ],
    reflexoes: [
        "Não somos apenas observadores, mas co-criadores do tecido da realidade.",
        "A biologia é a tecnologia mais avançada do universo conhecido.",
        "O espírito e a matéria são apenas frequências diferentes da mesma substância.",
        "A evolução não é linear, mas sim uma espiral de complexidade crescente."
    ]
};

let memory = JSON.parse(localStorage.getItem('cegonha_v13')) || {
    totalWords: 0,
    interactions: 0,
    learnedConcepts: [],
    historyData: [0]
};

function raciocinar() {
    const input = document.getElementById('user-in').value.trim();
    if (input.length < 3) return;

    const display = document.getElementById('display');
    const tokens = input.toLowerCase().split(/\s+/);
    
    // Seleção Dinâmica de Contexto
    let pool = [];
    if (tokens.some(t => t.match(/espirit|alma|deus|fe|vibr/))) pool.push(...ATOMS.espiritual);
    if (tokens.some(t => t.match(/saud|corpo|med|dor|celul/))) pool.push(...ATOMS.saude);
    if (tokens.some(t => t.match(/natur|terra|planeta|biol/))) pool.push(...ATOMS.natureza);
    if (tokens.some(t => t.match(/por que|verdade|pensa|ser/))) pool.push(...ATOMS.filosofia);
    
    if (pool.length === 0) pool = [...ATOMS.espiritual, ...ATOMS.natureza, ...ATOMS.filosofia, ...ATOMS.saude];

    let respostaText = `<h3><span class="highlight">SÍNTESE DE CONTEXTO: "${input.toUpperCase()}"</span></h3>`;
    let corpoTexto = "";

    // Geração de Resposta de Longo Alcance (Simulando 1000+ palavras por blocos lógicos)
    for(let i=0; i < 50; i++) {
        const c = ATOMS.conectores[Math.floor(Math.random() * ATOMS.conectores.length)];
        const a1 = pool[Math.floor(Math.random() * pool.length)];
        const a2 = pool[Math.floor(Math.random() * pool.length)];
        const r = ATOMS.reflexoes[Math.floor(Math.random() * ATOMS.reflexoes.length)];

        corpoTexto += `${c} a <span class="highlight">${a1}</span> encontra-se intrinsecamente ligada à <span class="highlight">${a2}</span>. `;
        
        if (i % 6 === 0) corpoTexto += `<br><br><b>Aprofundamento:</b> ${r} Este fenómeno demonstra que o equilíbrio depende da integração total. `;
        if (i % 10 === 0) corpoTexto += "Analisando as métricas de evolução, percebemos um salto qualitativo na percepção humana. ";
    }

    // Processo de Aprendizagem
    tokens.forEach(t => {
        if(t.length > 5 && !memory.learnedConcepts.includes(t) && !t.includes("<")) {
            memory.learnedConcepts.push(t);
        }
    });

    // Atualização de Memória
    memory.interactions++;
    const wordsCount = corpoTexto.split(" ").length;
    memory.totalWords += wordsCount;
    memory.historyData.push(memory.totalWords);
    localStorage.setItem('cegonha_v13', JSON.stringify(memory));

    display.innerHTML = respostaText + corpoTexto;
    display.scrollTop = 0;
    
    updateUI();
}

function updateUI() {
    document.getElementById('stats').innerText = `PALAVRAS PROCESSADAS: ${memory.totalWords} | CONEXÕES NEURAIS: ${memory.learnedConcepts.length}`;
    
    const cloud = document.getElementById('concept-cloud');
    cloud.innerHTML = "";
    // Exibe os conceitos aprendidos mais relevantes
    memory.learnedConcepts.slice(-25).forEach(c => {
        cloud.innerHTML += `<span class="concept-tag">${c}</span>`;
    });
    drawChart();
}

function drawChart() {
    const canvas = document.getElementById('evolutionChart');
    const ctx = canvas.getContext('2d');
    const w = canvas.width = canvas.offsetWidth;
    const h = canvas.height = canvas.offsetHeight;
    
    ctx.clearRect(0,0,w,h);
    
    // Desenho de Grade
    ctx.strokeStyle = '#111';
    for(let i=0; i<w; i+=20) { ctx.beginPath(); ctx.moveTo(i,0); ctx.lineTo(i,h); ctx.stroke(); }

    // Linha de Evolução
    ctx.beginPath();
    ctx.strokeStyle = '#00ff41';
    ctx.lineWidth = 3;
    ctx.shadowBlur = 10;
    ctx.shadowColor = '#00ff41';
    
    const data = memory.historyData.slice(-15);
    const max = Math.max(...data, 500);
    
    data.forEach((p, i) => {
        const x = (i / (data.length - 1)) * w;
        const y = h - (p / max) * (h - 20) - 10;
        if(i===0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
    });
    ctx.stroke();
    ctx.shadowBlur = 0;
}

window.onload = updateUI;
</script>

<!-- PLAYER ESPIRITUAL V17 - MATRIZ DE 5 OITAVAS (FINAL GOLD 2025) -->
<div id="quantum-player" style="position: fixed; bottom: 20px; right: 20px; background: rgba(0, 0, 0, 0.95); border: 1px solid #00ff41; padding: 12px 20px; border-radius: 50px; display: flex; align-items: center; gap: 15px; box-shadow: 0 0 30px #008f11; z-index: 9999; font-family: monospace;">
    
    <div id="viz-active" style="display: none; gap: 4px; align-items: flex-end; height: 20px;">
        <div style="width: 3px; background: #00ff41; animation: q-wave 2.1s infinite ease-in-out;"></div>
        <div style="width: 3px; background: #00ff41; animation: q-wave 1.5s infinite ease-in-out;"></div>
        <div style="width: 4px; background: #00ff41; animation: q-wave 2.8s infinite ease-in-out;"></div>
        <div style="width: 3px; background: #00ff41; animation: q-wave 1.9s infinite ease-in-out;"></div>
    </div>

    <div style="display: flex; flex-direction: column; min-width: 140px;">
        <span style="font-size: 8px; color: #00ff41; text-transform: uppercase; letter-spacing: 2px; font-weight: bold;">Symphony 432Hz</span>
        <input type="range" id="q-volume" min="0" max="0.4" step="0.01" value="0.15" oninput="ajustarVolume(this.value)" style="width: 120px; height: 3px; cursor: pointer; accent-color: #00ff41; margin-top: 5px;">
    </div>

    <button id="q-btn" onclick="toggleSintetizador()" style="background: #00ff41; color: black; border: none; padding: 10px 20px; border-radius: 25px; font-size: 11px; font-weight: bold; cursor: pointer; transition: 0.4s; letter-spacing: 1px;">LIGAR SOM</button>
    
    <style>
        @keyframes q-wave { 0%, 100% { height: 4px; opacity: 0.2; } 50% { height: 20px; opacity: 1; } }
        #quantum-player { backdrop-filter: blur(10px); border: 1px solid rgba(0, 255, 65, 0.5); }
    </style>
</div>

<script>
/**
 * MOTOR DE SÍNTESE MULTI-OITAVA - CEGONHA 17.0 (DEZEMBRO 2025)
 */
let audioCtx = null;
let masterGain = null;
let reverbBus = null;
let nodes = [];
let isRunning = false;

function criarVoz(freq, vol, detune = 0) {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    
    osc.type = 'sine';
    osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
    osc.detune.setValueAtTime(detune, audioCtx.currentTime);
    
    gain.gain.setValueAtTime(0, audioCtx.currentTime); 
    
    osc.connect(gain);
    gain.connect(masterGain);
    osc.start();
    
    return { osc, gain, baseVol: vol };
}

function iniciarAudio() {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    masterGain = audioCtx.createGain();
    
    // Filtro Master para calor analógico
    const lpFilter = audioCtx.createBiquadFilter();
    lpFilter.type = "lowpass";
    lpFilter.frequency.setValueAtTime(1200, audioCtx.currentTime);
    lpFilter.Q.setValueAtTime(1, audioCtx.currentTime);

    masterGain.connect(lpFilter);
    lpFilter.connect(audioCtx.destination);

    // --- ARQUITETURA DE 5 OITAVAS BASEADA EM 432Hz ---
    
    // 1. SUB-GRAVE (Peso da Terra)
    nodes.push(criarVoz(108, 0.2)); 
    
    // 2. GRAVE (Fundação)
    nodes.push(criarVoz(216, 0.15, 2)); 
    
    // 3. FUNDAMENTAL (Corpo Espiritual)
    nodes.push(criarVoz(432, 0.12, -2)); 
    nodes.push(criarVoz(432.5, 0.1, 5)); // Chorus
    
    // 4. CELESTIAL (Brilho e Ar)
    nodes.push(criarVoz(864, 0.06)); 
    
    // 5. ÉTER (Harmónicos Superiores)
    nodes.push(criarVoz(1728, 0.03)); 

    // MODULAÇÃO DE RESPIRAÇÃO (LFO Coerente)
    const lfo = audioCtx.createOscillator();
    const lfoGain = audioCtx.createGain();
    lfo.frequency.setValueAtTime(0.15, audioCtx.currentTime); // Ciclo de 6.6 segundos
    lfoGain.gain.setValueAtTime(0.04, audioCtx.currentTime);
    lfo.connect(lfoGain);
    nodes.forEach((n, i) => {
        // Aplica modulação com fases ligeiramente diferentes para cada oitava
        lfoGain.connect(n.gain.gain);
    });
    lfo.start();
}

function toggleSintetizador() {
    const btn = document.getElementById('q-btn');
    const viz = document.getElementById('viz-active');

    if (!isRunning) {
        if (!audioCtx) iniciarAudio();
        audioCtx.resume();
        
        // Fade-in cinematográfico (Longo)
        nodes.forEach(n => n.gain.gain.setTargetAtTime(n.baseVol, audioCtx.currentTime, 2.5));
        
        btn.innerText = "SILENCIAR";
        btn.style.background = "#ff0041";
        btn.style.color = "white";
        viz.style.display = "flex";
        isRunning = true;
    } else {
        // Fade-out suave
        nodes.forEach(n => n.gain.gain.setTargetAtTime(0, audioCtx.currentTime, 1.2));
        setTimeout(() => { if(!isRunning) audioCtx.suspend(); }, 1500);
        
        btn.innerText = "LIGAR SOM";
        btn.style.background = "#00ff41";
        btn.style.color = "black";
        viz.style.display = "none";
        isRunning = false;
    }
}

function ajustarVolume(valor) {
    if (masterGain) {
        masterGain.gain.setTargetAtTime(valor, audioCtx.currentTime, 0.3);
    }
}
</script>
</body>
</html>

